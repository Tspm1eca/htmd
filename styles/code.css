/* 代码相关的CSS变量 - 深色主题 */
:root.dark-theme {
    /* 代码块变量 - 深色模式 */
    --cerebr-table-border-color: #4b5263;
    --cerebr-code-block-bg: #282c34;
    --cerebr-code-block-color: #abb2bf;
    --cerebr-code-block-border: transparent;
    --cerebr-code-scrollbar-bg: #282c34;
    --cerebr-code-scrollbar-thumb: #4b5263;
    --cerebr-code-scrollbar-thumb-hover: #5c6370;
    --cerebr-code-tag-bg: #161b22;
    --cerebr-code-tag-color: #7d8590;
    --cerebr-pre-bg: #1e222a;

    /* 语法高亮 - 深色模式 */
    --cerebr-hljs-keyword: #c678dd;
    --cerebr-hljs-built-in: #d19a66;
    --cerebr-hljs-type: #c678dd;
    --cerebr-hljs-literal: #d19a66;
    --cerebr-hljs-number: #d19a66;
    --cerebr-hljs-regexp: #98c379;
    --cerebr-hljs-string: #98c379;
    --cerebr-hljs-comment: #7f848e;
    --cerebr-hljs-doctag: #c678dd;
    --cerebr-hljs-meta: #7f848e;
    --cerebr-hljs-title: #61afef;
    --cerebr-hljs-tag: #e06c75;
    --cerebr-hljs-attr: #d19a66;
    --cerebr-hljs-attribute: #d19a66;
    --cerebr-hljs-template-tag: #c678dd;
    --cerebr-hljs-template-variable: #c678dd;
    --cerebr-hljs-variable: #c678dd;
    --cerebr-hljs-bullet: #d19a66;
    --cerebr-hljs-emphasis: #abb2bf;
    --cerebr-hljs-strong: #abb2bf;
}


/* 代码块基础样式 */
pre {
    margin: 2px 0;
    position: relative;
    border-radius: 18px;
    background-color: var(--cerebr-pre-bg);
    overflow: hidden;
}

pre code {
    display: block;
    padding: 16px;
    overflow-x: auto;
    font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
    font-size: 13px;
    /* line-height: 1.5; */
    line-height: 1rem;
    tab-size: 4;
    -webkit-font-smoothing: auto;
    border-radius: 18px;
    background-color: var(--cerebr-code-block-bg);
    color: var(--cerebr-code-block-color);
    border: 1px solid var(--cerebr-code-block-border);
}

/* Markdown 样式 */
pre code {
    display: block;
    overflow-x: auto;
    padding: 1em;
    border-radius: 18px;
    font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-wrap: break-word;
    background: var(--cerebr-code-block-bg);
    color: var(--cerebr-code-block-color);
    border: 1px solid var(--cerebr-code-block-border);
}

/* 行内代码样式 */
code:not(pre code) {
    font-size: 0.875rem;
    line-height: 1.25rem;
    padding-left: 0.25rem;
    padding-right: 0.25rem;
    border-radius: 0.25rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !important;
    background-color: var(--cerebr-inline-code-bg);
    color: var(--cerebr-inline-code-color);
}

/* 所有代码样式 */
code {
    font-size: 0.875rem;
    line-height: 1.25rem;
    padding-left: 0.25rem;
    padding-right: 0.25rem;
    border-radius: 0.25rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !important;
    background-color: var(--cerebr-inline-code-bg);
    color: var(--cerebr-inline-code-color);
}

/* 滚动条样式 */
pre code::-webkit-scrollbar {
    height: 8px;
    background-color: var(--cerebr-code-scrollbar-bg);
}

pre code::-webkit-scrollbar-thumb {
    background-color: var(--cerebr-code-scrollbar-thumb);
    border-radius: 4px;
}

pre code::-webkit-scrollbar-thumb:hover {
    background-color: var(--cerebr-code-scrollbar-thumb-hover);
}

/* 语言标签 */
pre::before {
    content: attr(data-language);
    position: absolute;
    top: 1px;
    right: 1px;
    padding: 4px 8px;
    font-size: 12px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color: var(--cerebr-code-tag-color);
    background-color: var(--cerebr-code-tag-bg);
    border-bottom-left-radius: 8px;
    opacity: 0.5;
    /* 伸缩动画 */
    transform: scale(1);
    transform-origin: top right;
    transition: opacity 0.2s ease-in-out, transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* hover 时隐藏语言标签 - 带伸缩动画 */
pre:hover::before {
    opacity: 0;
    transform: scale(0.8);
}

/* 为所有的语法高亮元素添加统一字体 */
pre code [class^="hljs-"] {
    font-family: "JetBrains Mono", Monaco, Consolas, "Andale Mono", "DejaVu Sans Mono", monospace;
}

/* 代码高亮样式 */
pre code .hljs-keyword {
    color: var(--cerebr-hljs-keyword);
}

pre code .hljs-built_in {
    color: var(--cerebr-hljs-built-in);
}

pre code .hljs-type {
    color: var(--cerebr-hljs-type);
}

pre code .hljs-literal {
    color: var(--cerebr-hljs-literal);
}

pre code .hljs-number {
    color: var(--cerebr-hljs-number);
}

pre code .hljs-regexp {
    color: var(--cerebr-hljs-regexp);
}

pre code .hljs-string {
    color: var(--cerebr-hljs-string);
}

pre code .hljs-comment {
    color: var(--cerebr-hljs-comment);
}

pre code .hljs-doctag {
    color: var(--cerebr-hljs-doctag);
}

pre code .hljs-meta {
    color: var(--cerebr-hljs-meta);
}

pre code .hljs-title {
    color: var(--cerebr-hljs-title);
}

pre code .hljs-tag {
    color: var(--cerebr-hljs-tag);
}

pre code .hljs-attr {
    color: var(--cerebr-hljs-attr);
}

pre code .hljs-attribute {
    color: var(--cerebr-hljs-attribute);
}

pre code .hljs-template-tag {
    color: var(--cerebr-hljs-template-tag);
}

pre code .hljs-template-variable {
    color: var(--cerebr-hljs-template-variable);
}

pre code .hljs-variable {
    color: var(--cerebr-hljs-variable);
}

pre code .hljs-bullet {
    color: var(--cerebr-hljs-bullet);
}

pre code .hljs-emphasis {
    color: var(--cerebr-hljs-emphasis);
    font-style: italic;
}

pre code .hljs-strong {
    color: var(--cerebr-hljs-strong);
    font-weight: bold;
}
